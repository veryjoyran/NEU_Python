# 二手房数据爬取与预测系统 

## 项目简介
本项目是一个基于 Tkinter 图形用户界面的二手房数据爬取与预测系统。系统允许用户输入城市代码，通过爬取指定城市的二手房数据，保存到本地 SQLite 数据库中，并利用机器学习模型对房价进行预测。此外，系统还提供了查找相似房源的功能，帮助用户更全面地了解房价趋势和市场情况。

---

## 功能概述
- **数据爬取**：用户在客户端输入城市代码，系统将自动爬取对应城市的二手房数据。
- **数据存储**：爬取的数据会自动保存到本地的 SQLite 数据库中。
- **数据展示**：通过图形界面查看和管理存储在数据库中的房源数据。
- **模型训练**：使用爬取的数据训练机器学习模型，以预测二手房价格。
- **价格预测**：用户输入房屋特征后，系统利用训练好的模型进行价格预测。
- **查找相似房源**：根据预测结果查找并展示与输入房源相似的其他房源，帮助用户做出更明智的决策。

---

## 环境要求
### 通用
- **Python 3.7+**

### 依赖库
- tkinter
- requests
- beautifulsoup4
- lxml
- pandas
- numpy
- scikit-learn
- joblib

可以使用以下命令安装所需依赖：
```bash
pip install -r requirements.txt
```

## 项目结构
Project4/         
├── WebScraperGUI.py    
├── WebScraper_HouseData.py    
├── DatabaseReader.py    
├── DatabaseViewer.py    
├── DataPreprocessor.py    
├── ModelTrainer.py     
├── main.py    
├── requirements.txt   
└── README.md      


---

## 使用方法
先安装依赖：
```bash
pip install -r requirements.txt
```
然后运行即可
```bash
python main.py
```

## 操作说明
### a. 输入城市代码
在客户端界面中输入城市的首字母代码（例如 bj 表示北京、sh 表示上海、sy 表示苏州、hf 表示合肥）。


### b. 开始爬取
点击“开始爬取”按钮，系统将根据输入的城市代码爬取对应城市的二手房数据，并在表格中显示爬取到的数据。

### c. 保存到数据库
点击“保存到数据库”按钮，将爬取的数据保存到本地的 SQLite 数据库中。

### d. 读取数据库数据
点击“读取数据库”按钮，系统将从数据库中读取并展示存储的房源数据。

### e. 训练模型
点击“训练模型”按钮，系统将使用数据库中的数据训练机器学习模型，并保存训练好的模型以供预测使用。

### f.预测价格
点击“预测价格”按钮，输入房屋特征（房型、朝向、楼层、面积、建造年份），系统将利用训练好的模型进行价格预测，并显示预测结果和相似房源推荐。



## 注意事项
数据库文件：所有爬取的房源数据将保存在 models 文件夹下的 SQLite 数据库中。数据库文件在第一次保存数据时自动创建。    
城市输入格式：城市的首字母代码应为英文字符（如 bj、sh、sy、hf）。     
爬取时间：根据网络情况和城市数据的不同，爬取过程可能需要一定时间，请耐心等待。默认爬取5页数据，如需更多，可在代码中调整爬取页数。   
模型选择：在训练模型时，可选择不同类型的机器学习模型（线性回归、决策树、随机森林），以比较各模型的预测效果。   

